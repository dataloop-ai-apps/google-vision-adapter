{
  "displayName": "Google Vision",
  "name": "google-vision",
  "scope": "project",
  "version": "v1.0.9",
  "components": {
    "pipelineNodes": [
      {
        "invoke": {
          "type": "function",
          "namespace": "google-vision-crop-hint-v2.google_vision_crop_hint_v2.crop_hint"
        },
        "categories": ["Google Vision"],
        "displayName": "Crop Hint",
        "description": "Crop Image using hint from Google Vision based on ratio",
        "scope": "project",
        "configuration": {
          "fields": [
            {
              "name": "name",
              "title": "Node Name",
              "props": {
                "title": true,
                "type": "string",
                "default": "Crop Hint",
                "required": true,
                "placeholder": "Insert node name"
              },
              "rules": [
                {
                  "type": "required",
                  "effect": "error"
                }
              ],
              "widget": "dl-input"
            },
            {
              "name": "ratio",
              "title": "Ratio",
              "props": {
                "title": true,
                "type": "number",
                "default": 1,
                "required": true,
                "placeholder": "Insert ratio"
              },
              "rules": [
                {
                  "type": "required",
                  "effect": "error"
                },
                {
                  "type": "gte",
                  "value": 0.01,
                  "effect": "error",
                  "errorMessage": "Ratio must be greater than 0"
                },
                {
                  "type": "regex",
                  "value": "^-?\\d+(\\.\\d{1,2})?$",
                  "effect": "error",
                  "errorMessage": "Ratio must be a number with 2 decimal places"
                }
              ],
              "widget": "dl-input"
            }
          ]
        }
      },
      {
        "invoke": {
          "type": "function",
          "namespace": "google-vision-explicit-detection-v2.google_vision_explicit_detection_v2.explicit_content_detection"
        },
        "categories": ["Google Vision"],
        "displayName": "Explicit Content Detection",
        "description": "Detects content in the image",
        "scope": "project",
        "configuration": {
          "fields": [
            {
              "name": "name",
              "title": "Node Name",
              "props": {
                "title": true,
                "type": "string",
                "default": "Explicit Content Detection",
                "required": true,
                "placeholder": "Insert node name"
              },
              "rules": [
                {
                  "type": "required",
                  "effect": "error"
                }
              ],
              "widget": "dl-input"
            }
          ]
        }
      },
      {
        "invoke": {
          "type": "function",
          "namespace": "google-vision-face-detection-v2.google_vision_face_detection_v2.face_detection"
        },
        "categories": ["Google Vision"],
        "displayName": "Face Detection",
        "description": "Detects faces in the image",
        "scope": "project",
        "configuration": {
          "fields": [
            {
              "name": "name",
              "title": "Node Name",
              "props": {
                "title": true,
                "type": "string",
                "default": "Face Detection",
                "required": true,
                "placeholder": "Insert node name"
              },
              "rules": [
                {
                  "type": "required",
                  "effect": "error"
                }
              ],
              "widget": "dl-input"
            }
          ]
        }
      },
      {
        "invoke": {
          "type": "function",
          "namespace": "google-vision-label-detection-v2.google_vision_label_detection_v2.label_detection"
        },
        "categories": ["Google Vision"],
        "displayName": "Label Detection",
        "description": "Detects labels for the image",
        "scope": "project",
        "configuration": {
          "fields": [
            {
              "name": "name",
              "title": "Node Name",
              "props": {
                "title": true,
                "type": "string",
                "default": "Label Detection",
                "required": true,
                "placeholder": "Insert node name"
              },
              "rules": [
                {
                  "type": "required",
                  "effect": "error"
                }
              ],
              "widget": "dl-input"
            }
          ]
        }
      },
      {
        "invoke": {
          "type": "function",
          "namespace": "google-vision-logo-detection-v2.google_vision_logo_detection_v2.logo_detection"
        },
        "categories": ["Google Vision"],
        "displayName": "Logo Detection",
        "description": "Detects logos in the image",
        "scope": "project",
        "configuration": {
          "fields": [
            {
              "name": "name",
              "title": "Node Name",
              "props": {
                "title": true,
                "type": "string",
                "default": "Logo Detection",
                "required": true,
                "placeholder": "Insert node name"
              },
              "rules": [
                {
                  "type": "required",
                  "effect": "error"
                }
              ],
              "widget": "dl-input"
            }
          ]
        }
      },
      {
        "invoke": {
          "type": "function",
          "namespace": "google-vision-object-detection-v2.google_vision_object_detection_v2.obj_detection"
        },
        "categories": ["Google Vision"],
        "displayName": "Object Detection",
        "description": "Detects objects in the image",
        "scope": "project",
        "configuration": {
          "fields": [
            {
              "name": "name",
              "title": "Node Name",
              "props": {
                "title": true,
                "type": "string",
                "default": "Object Detection",
                "required": true,
                "placeholder": "Insert node name"
              },
              "rules": [
                {
                  "type": "required",
                  "effect": "error"
                }
              ],
              "widget": "dl-input"
            }
          ]
        }
      },
      {
        "invoke": {
          "type": "function",
          "namespace": "google-vision-text-detection-v2.google_vision_text_detection_v2.text_detection"
        },
        "categories": ["Google Vision"],
        "displayName": "Text Detection",
        "description": "Detects text in the image",
        "scope": "project",
        "configuration": {
          "fields": [
            {
              "name": "name",
              "title": "Node Name",
              "props": {
                "title": true,
                "type": "string",
                "default": "Text Detection",
                "required": true,
                "placeholder": "Insert node name"
              },
              "rules": [
                {
                  "type": "required",
                  "effect": "error"
                }
              ],
              "widget": "dl-input"
            }
          ]
        }
      },
      {
        "invoke": {
          "type": "function",
          "namespace": "google-vision-web-detection-v2.google_vision_web_detection_v2.web_detection"
        },
        "categories": ["Google Vision"],
        "displayName": "Web Content Detection",
        "description": "Detects web content in the image",
        "scope": "project",
        "configuration": {
          "fields": [
            {
              "name": "name",
              "title": "Node Name",
              "props": {
                "title": true,
                "type": "string",
                "default": "Web Content Detection",
                "required": true,
                "placeholder": "Insert node name"
              },
              "rules": [
                {
                  "type": "required",
                  "effect": "error"
                }
              ],
              "widget": "dl-input"
            }
          ]
        }
      }
    ],
    "modules": [
      {
        "name": "google_vision_crop_hint_v2",
        "entryPoint": "google_vision/crop_hint/crop_hint.py",
        "className": "ServiceRunner",
        "initInputs": [
          {
            "type": "String",
            "name": "integration_name"
          }
        ],
        "functions": [
          {
            "name": "crop_hint",
            "input": [
              {
                "type": "Item",
                "name": "item"
              }
            ],
            "output": [
              {
                "type": "Item",
                "name": "item"
              }
            ],

            "displayIcon": "crop"
          }
        ]
      },
      {
        "name": "google_vision_explicit_detection_v2",
        "entryPoint": "google_vision/explicit_content_detection/explicit_content_detection.py",
        "className": "ServiceRunner",
        "initInputs": [
          {
            "type": "String",
            "name": "integration_name"
          }
        ],
        "functions": [
          {
            "name": "explicit_content_detection",
            "input": [
              {
                "type": "Item",
                "name": "item"
              }
            ],

            "displayIcon": "critical"
          }
        ]
      },
      {
        "name": "google_vision_face_detection_v2",
        "entryPoint": "google_vision/face_detection/face_detection.py",
        "className": "ServiceRunner",
        "initInputs": [
          {
            "type": "String",
            "name": "integration_name"
          }
        ],
        "functions": [
          {
            "name": "face_detection",
            "input": [
              {
                "type": "Item",
                "name": "item"
              }
            ],

            "displayIcon": "avatar"
          }
        ]
      },
      {
        "name": "google_vision_label_detection_v2",
        "entryPoint": "google_vision/label_detection/label_detection.py",
        "className": "ServiceRunner",
        "initInputs": [
          {
            "type": "String",
            "name": "integration_name"
          }
        ],
        "functions": [
          {
            "name": "label_detection",
            "input": [
              {
                "type": "Item",
                "name": "item"
              }
            ],

            "displayIcon": "label"
          }
        ]
      },
      {
        "name": "google_vision_logo_detection_v2",
        "entryPoint": "google_vision/logo_detection/logo_detection.py",
        "className": "ServiceRunner",
        "initInputs": [
          {
            "type": "String",
            "name": "integration_name"
          }
        ],
        "functions": [
          {
            "name": "logo_detection",
            "input": [
              {
                "type": "Item",
                "name": "item"
              }
            ],

            "displayIcon": "dataloop-logo"
          }
        ]
      },
      {
        "name": "google_vision_object_detection_v2",
        "entryPoint": "google_vision/object_detection/object_detection.py",
        "className": "ServiceRunner",
        "initInputs": [
          {
            "type": "String",
            "name": "integration_name"
          }
        ],
        "functions": [
          {
            "name": "obj_detection",
            "input": [
              {
                "type": "Item",
                "name": "item"
              }
            ],

            "displayIcon": "box"
          }
        ]
      },
      {
        "name": "google_vision_text_detection_v2",
        "entryPoint": "google_vision/text_detection/text_detection.py",
        "className": "ServiceRunner",
        "initInputs": [
          {
            "type": "String",
            "name": "integration_name"
          }
        ],
        "functions": [
          {
            "name": "text_detection",
            "input": [
              {
                "type": "Item",
                "name": "item"
              }
            ],

            "displayIcon": "text"
          }
        ]
      },

      {
        "name": "google_vision_web_detection_v2",
        "entryPoint": "google_vision/web_entities_and_pages/web_entities_and_pages.py",
        "className": "ServiceRunner",
        "initInputs": [
          {
            "type": "String",
            "name": "integration_name"
          }
        ],
        "functions": [
          {
            "name": "web_detection",
            "input": [
              {
                "type": "Item",
                "name": "item"
              }
            ],

            "displayIcon": "analytics"
          }
        ]
      }
    ],
    "services": [
      {
        "name": "google-vision-crop-hint-v2",
        "moduleName": "google_vision_crop_hint_v2",
        "initParams": {
          "integration_name": "google-vision-ludo"
        },
        "secrets": ["a94e5a35-7126-44da-8e87-8e492c5a9fa7"],
        "runtime": {
          "podType": "regular-xs",
          "runnerImage": "ludohor/googlevisionadapter:latest",
          "numReplicas": 1,
          "concurrency": 10,
          "singleAgent": false,
          "autoscaler": {
            "type": "rabbitmq",
            "minReplicas": 1,
            "maxReplicas": 2,
            "queueLength": 10
          },
          "preemptible": false
        },
        "executionTimeout": 172800,
        "drainTime": 600,
        "onReset": "failed",
        "runExecutionAsProcess": false,
        "maxAttempts": 3
      },
      {
        "name": "google-vision-explicit-detection-v2",
        "moduleName": "google_vision_explicit_detection_v2",
        "initParams": {
          "integration_name": "google-vision-ludo"
        },
        "secrets": ["a94e5a35-7126-44da-8e87-8e492c5a9fa7"],
        "runtime": {
          "podType": "regular-xs",
          "runnerImage": "shadimahameeddl/vision-test:latest",
          "numReplicas": 1,
          "concurrency": 10,
          "singleAgent": false,
          "autoscaler": {
            "type": "rabbitmq",
            "minReplicas": 1,
            "maxReplicas": 2,
            "queueLength": 10
          },
          "preemptible": false
        },
        "executionTimeout": 172800,
        "drainTime": 600,
        "onReset": "failed",
        "runExecutionAsProcess": false,
        "maxAttempts": 3
      },
      {
        "name": "google-vision-face-detection-v2",
        "moduleName": "google_vision_face_detection_v2",
        "initParams": {
          "integration_name": "google-vision-ludo"
        },
        "secrets": ["a94e5a35-7126-44da-8e87-8e492c5a9fa7"],
        "runtime": {
          "podType": "regular-xs",
          "runnerImage": "shadimahameeddl/vision-test:latest",
          "numReplicas": 1,
          "concurrency": 10,
          "singleAgent": false,
          "autoscaler": {
            "type": "rabbitmq",
            "minReplicas": 1,
            "maxReplicas": 2,
            "queueLength": 10
          },
          "preemptible": false
        },
        "executionTimeout": 172800,
        "drainTime": 600,
        "onReset": "failed",
        "runExecutionAsProcess": false,
        "maxAttempts": 3
      },
      {
        "name": "google-vision-label-detection-v2",
        "moduleName": "google_vision_label_detection_v2",
        "initParams": {
          "integration_name": "google-vision-ludo"
        },
        "secrets": ["a94e5a35-7126-44da-8e87-8e492c5a9fa7"],
        "runtime": {
          "podType": "regular-xs",
          "runnerImage": "shadimahameeddl/vision-test:latest",
          "numReplicas": 1,
          "concurrency": 10,
          "singleAgent": false,
          "autoscaler": {
            "type": "rabbitmq",
            "minReplicas": 1,
            "maxReplicas": 2,
            "queueLength": 10
          },
          "preemptible": false
        },
        "executionTimeout": 172800,
        "drainTime": 600,
        "onReset": "failed",
        "runExecutionAsProcess": false,
        "maxAttempts": 3
      },
      {
        "name": "google-vision-logo-detection-v2",
        "moduleName": "google_vision_logo_detection_v2",
        "initParams": {
          "integration_name": "google-vision-ludo"
        },
        "secrets": ["a94e5a35-7126-44da-8e87-8e492c5a9fa7"],
        "runtime": {
          "podType": "regular-xs",
          "runnerImage": "shadimahameeddl/vision-test:latest",
          "numReplicas": 1,
          "concurrency": 10,
          "singleAgent": false,
          "autoscaler": {
            "type": "rabbitmq",
            "minReplicas": 1,
            "maxReplicas": 2,
            "queueLength": 10
          },
          "preemptible": false
        },
        "executionTimeout": 172800,
        "drainTime": 600,
        "onReset": "failed",
        "runExecutionAsProcess": false,
        "maxAttempts": 3
      },
      {
        "name": "google-vision-object-detection-v2",
        "moduleName": "google_vision_object_detection_v2",
        "initParams": {
          "integration_name": "google-vision-ludo"
        },
        "secrets": ["a94e5a35-7126-44da-8e87-8e492c5a9fa7"],
        "runtime": {
          "podType": "regular-xs",
          "runnerImage": "shadimahameeddl/vision-test:latest",
          "numReplicas": 1,
          "concurrency": 10,
          "singleAgent": false,
          "autoscaler": {
            "type": "rabbitmq",
            "minReplicas": 1,
            "maxReplicas": 2,
            "queueLength": 10
          },
          "preemptible": false
        },
        "executionTimeout": 172800,
        "drainTime": 600,
        "onReset": "failed",
        "runExecutionAsProcess": false,
        "maxAttempts": 3
      },

      {
        "name": "google-vision-text-detection-v2",
        "moduleName": "google_vision_text_detection_v2",
        "initParams": {
          "integration_name": "google-vision-ludo"
        },
        "secrets": ["a94e5a35-7126-44da-8e87-8e492c5a9fa7"],
        "runtime": {
          "podType": "regular-xs",
          "runnerImage": "shadimahameeddl/vision-test:latest",
          "numReplicas": 1,
          "concurrency": 10,
          "singleAgent": false,
          "autoscaler": {
            "type": "rabbitmq",
            "minReplicas": 1,
            "maxReplicas": 2,
            "queueLength": 10
          },
          "preemptible": false
        },
        "executionTimeout": 172800,
        "drainTime": 600,
        "onReset": "failed",
        "runExecutionAsProcess": false,
        "maxAttempts": 3
      },
      {
        "name": "google-vision-web-detection-v2",
        "moduleName": "google_vision_web_detection_v2",
        "initParams": {
          "integration_name": "google-vision-ludo"
        },
        "secrets": ["a94e5a35-7126-44da-8e87-8e492c5a9fa7"],
        "runtime": {
          "podType": "regular-xs",
          "runnerImage": "shadimahameeddl/vision-test:latest",
          "numReplicas": 1,
          "concurrency": 10,
          "singleAgent": false,
          "autoscaler": {
            "type": "rabbitmq",
            "minReplicas": 1,
            "maxReplicas": 2,
            "queueLength": 10
          },
          "preemptible": false
        },
        "executionTimeout": 172800,
        "drainTime": 600,
        "onReset": "failed",
        "runExecutionAsProcess": false,
        "maxAttempts": 3
      }
    ]
  }
}
